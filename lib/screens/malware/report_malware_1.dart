import 'package:flutter/material.dart';
import 'package:security_alert/custom/customButton.dart';
import 'package:security_alert/screens/malware/report_malware_2.dart';
import '../../custom/CustomDropdown.dart';
import '../../custom/customTextfield.dart';

class MalwareReportPage1 extends StatefulWidget {
  const MalwareReportPage1({super.key});

  @override
  State<MalwareReportPage1> createState() => _MalwareReportPage1State();
}

class _MalwareReportPage1State extends State<MalwareReportPage1> {
  String? _DetectedSeverity;
  String? _infectedSystem;
  String? _Malwaretype;

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: const Text('Report Malware')),
      body: LayoutBuilder(
        builder: (context, constraints) {
          return SingleChildScrollView(
            padding: const EdgeInsets.all(16),
            child: ConstrainedBox(
              constraints: BoxConstraints(minHeight: constraints.maxHeight),
              child: Column(
                crossAxisAlignment: CrossAxisAlignment.start,
                children: [
                  const SizedBox(height: 8),
                  CustomDropdown(
                    hint: "Select a Malware Type",
                    value: _Malwaretype,
                    items: const ['Virus', 'Worm', 'Trojan', 'Spyware', 'Ransomware','Adware'],
                    onChanged: (val) => setState(() => _Malwaretype = val),
                    label: "Malware Type*",
                  ),
                  const SizedBox(height: 8),
                  CustomDropdown(
                    hint: "Select a Device Type",
                    value: _infectedSystem,
                    items: const ['Desktop', 'Laptop', 'Mobile', 'IOT Devices', 'Others'],
                    onChanged: (val) => setState(() => _infectedSystem = val),
                    label: 'Infected Device Type*',
                  ),
                  const SizedBox(height: 23),


                  const CustomTextField(hintText: 'Windows, Mac, Android, etc', label: 'Operating System',),
                  const SizedBox(height: 23),
                  CustomDropdown(
                    hint: "Select a Scam Type",
                    value: _DetectedSeverity,
                    items: const ['Virus', 'Worm', 'Trojan', 'Spyware', 'Ransomware', 'Adware'],
                    onChanged: (val) => setState(() => _DetectedSeverity = val),
                    label: 'How was it Detected',
                  ),
                  const SizedBox(height: 8),

                  const SizedBox(height: 8),
                  const CustomTextField(hintText: 'City, State', label: 'Location',),
                  const SizedBox(height: 20),
                  // ElevatedButton(
                  //   onPressed: () => Navigator.push(
                  //     context,
                  //     MaterialPageRoute(builder: (_) => const MalwareReportPage2()),
                  //   ),
                  //
                  //   style: ElevatedButton.styleFrom(
                  //     shape: RoundedRectangleBorder(
                  //       borderRadius: BorderRadius.circular(6),
                  //     ),
                  //     backgroundColor: const Color(0xFF064FAD),
                  //     minimumSize: const Size(double.infinity, 48),
                  //   ),
                  //   child: const Text("Next", style: TextStyle(color: Colors.white)),
                  // ),

                  CustomButton(text: 'Next', onPressed: () async {
                    Navigator.push(context, MaterialPageRoute(builder: (context) => const MalwareReportPage2()));
                    return;
                  },
                    fontSize: 20,
                    borderCircular: 6,
                    fontWeight: FontWeight.bold,)
                ],
              ),
            ),
          );
        },
      ),
    );
  }
}
